# 防抖节流

> 应用场景：一般用于高频触发的事件上，目的是优化性能

## 案例

1. 窗口对象上，频繁触发滚动事件，对该事件进行性能优化

2. 主要代码

   ```
   <style>
   	body{
   		height:2000px;
   		width:100%;
   	}
   </style>
   <script>
   	window.onscroll=PrintNum;//满足事件触发条件，会自动执行函数
   	let num=0;
   	function PrintNum(){
   		console.log(num++);
   	}
   </script>
   ```

## 防抖

> 设置一个延迟定时器，让你想要执行的逻辑，等待n秒后执行一次，如果在n秒内又被触发了，则清除计时器，重新计时

```
function debounce(fun,wait){
	let timeout=null;
	return function(){
		if(timeout){clearTimeout(timeout)};
		timeout=setTimeout(()=>{
			fun();
		},wait)
	}
}
window.onscroll=debounce(PrintNum,1000);//debounce函数只会执行一次，其后执行匿名函数（return后面的）
```

## 节流

> 通过获取触发时间差，让你想要执行的逻辑，在n秒内只会被执行一次

```
function throttle(fun,interval){
	let pre=+new Date();
	return function(){
		let now=+new Date();
		if(now-pre>interval){
			fun();
			pre=now;
		}
	}
}
window.onscroll=throttle(PrintNum,1000);
```

